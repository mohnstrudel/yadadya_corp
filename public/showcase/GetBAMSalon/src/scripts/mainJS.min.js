var close=$("#close");$(function(){$(".showMore").slice(0,3).show();var f=$("#loadMore");var e=$("#hideMore");f.addClass("show");e.addClass("hide");f.on("click",function(g){g.preventDefault();$(".showMore:hidden").slice(0,3).slideDown();if($(this).length==0){$("#load").fadeOut("slow")}f.addClass("hide");e.addClass("show").removeClass("hide")});e.on("click",function(g){g.preventDefault();$(".showMore").slice(3).slideUp();if($(this).length==0){$("#load").fadeIn("slow")}e.addClass("hide");f.addClass("show").removeClass("hide");$(".comeClientsList").removeClass("master-slide");$(".slider").css("display","none")});var b=$("#loadMore2");var d=$("#hideMore2");$(".showMore2").slice(0,3).show();b.addClass("show");d.addClass("hide");b.on("click",function(g){g.preventDefault();$(".showMore2:hidden").slice(0,3).slideDown();if($(this).length==0){$("#load").fadeOut("slow")}b.addClass("hide");d.addClass("show").removeClass("hide")});d.on("click",function(g){g.preventDefault();$(".showMore2").slice(3).slideUp();if($(this).length==0){$("#load").fadeIn("slow")}d.addClass("hide");b.addClass("show").removeClass("hide")});var a=$("#loadMore3");var c=$("#hideMore3");$(".showMore3").slice(0,3).show();a.addClass("show");c.addClass("hide");a.on("click",function(g){g.preventDefault();$(".showMore3:hidden").slice(0,3).slideDown();if($(this).length==0){$("#load").fadeOut("slow")}a.addClass("hide");c.addClass("show").removeClass("hide")});c.on("click",function(g){g.preventDefault();$(".showMore3").slice(3).slideUp();if($(this).length==0){$("#load").fadeIn("slow")}c.addClass("hide");a.addClass("show").removeClass("hide")})});$(document).ready(function(){$(".data-one").circliful()});(function(a){a.fn.circliful=function(b){var c=a.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:10},b);return this.each(function(){var B=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"];var f={};var H="";var g;var q=0;var z=a(this);var F=false;var A,I;z.addClass("circliful");e(z);if(z.data("text")!=undefined){A=z.data("text");if(z.data("icon")!=undefined){H=a("<i></i>").addClass("fa "+a(this).data("icon")).css({color:f.iconcolor,"font-size":f.iconsize})}if(z.data("type")!=undefined){l=a(this).data("type");if(l=="half"){w(z,"circle-text-half",(f.dimension/1.45))}else{w(z,"circle-text",f.dimension)}}else{w(z,"circle-text",f.dimension)}}if(a(this).data("total")!=undefined&&a(this).data("part")!=undefined){var J=a(this).data("total")/100;g=((a(this).data("part")/J)/100).toFixed(3);q=(a(this).data("part")/J).toFixed(3)}else{if(a(this).data("percent")!=undefined){g=a(this).data("percent")/100;q=a(this).data("percent")}else{g=c.percent/100}}if(a(this).data("info")!=undefined){I=a(this).data("info");if(a(this).data("type")!=undefined){l=a(this).data("type");if(l=="half"){G(z,0.9)}else{G(z,1.25)}}else{G(z,1.25)}}a(this).width(f.dimension+"px");var C=f.dimension,k=a("<canvas></canvas>").attr({width:C,height:C}).appendTo(a(this)).get(0);var h=k.getContext("2d");var d=window.devicePixelRatio;if(d){var s=a(k);s.css("width",C);s.css("height",C);s.css("border-radius","25px");s.attr("width",C*d);s.attr("height",C*d);h.scale(d,d)}var v=C/2;var u=C/2;var n=C/2.5;var E=2.3*Math.PI;var D=0;var r=f.animationstep===0?q:0;var t=Math.max(f.animationstep,0);var o=Math.PI*2;var j=Math.PI/2;var l="";var m=true;var i=(f.startdegree/180)*Math.PI;if(a(this).data("type")!=undefined){l=a(this).data("type");if(l=="half"){E=2*Math.PI;D=3.13;o=Math.PI;j=Math.PI/0.996}}if(a(this).data("type")!=undefined){l=a(this).data("type");if(l=="angle"){E=2.25*Math.PI;D=2.4;o=1.53+Math.PI;j=0.73+Math.PI/0.996}}function w(K,x,y){a("<span></span>").appendTo(K).addClass(x).html(A).prepend(H).css({"line-height":y+"px","font-size":f.fontsize+"px"})}function G(y,x){a("<span></span>").appendTo(y).addClass("circle-info-half").css("line-height",(f.dimension*x)+"px").text(I)}function e(x){a.each(B,function(y,K){if(x.data(K)!=undefined){f[K]=x.data(K)}else{f[K]=a(c).attr(K)}if(K=="fill"&&x.data("fill")!=undefined){F=true}})}function p(x){h.clearRect(0,0,k.width,k.height);h.beginPath();h.arc(v,u,n,D,E,false);h.lineWidth=f.width+1;h.strokeStyle=f.bgcolor;h.stroke();if(F){h.fillStyle=f.fill;h.fill()}h.beginPath();h.arc(v,u,n,-(j)+i,((o)*x)-j+i,false);if(f.border=="outline"){h.lineWidth=f.width+13}else{if(f.border=="inline"){h.lineWidth=f.width-13}}h.strokeStyle=f.fgcolor;h.stroke();if(r<q){r+=t;requestAnimationFrame(function(){p(Math.min(r,q)/100)},z)}if(r==q&&m&&typeof(b)!="undefined"){if(a.isFunction(b.complete)){b.complete();m=false}}}p(r/100)})}}(jQuery));$(function(){$(".slider .item").each(function(b){var e=$(this),c=e.width(),d=c*b,a=25*b;e.css({left:d}).find(".inset").css({backgroundColor:a})});$(".trigger").on("click",function(){var c=$(this),a=$(".item").width()*4,b=500;if(c.hasClass("prev")){$(".frame").animate({scrollLeft:"-="+a},b)}else{if(c.hasClass("next")){$(".frame").animate({scrollLeft:"+="+a},b)}}})});$(function(){$(".comeClinetsFoto").on("click",function(){if($(this).parent().hasClass("master-slide")){$(".comeClientsList").removeClass("master-slide");$(this).parent().addClass("master-slide")}else{$(".comeClientsList").removeClass("master-slide")}$(this).parent().toggleClass("master-slide");var a=$(".slider");if($(this).parent().hasClass("master-slide")){a.show();a.add().insertAfter($(this).parent())}else{a.hide()}})});$(".addNewMaster").click(function(){$("#newMasterModal").css("display","block");$("#modal1").css("display","block")});$("#noMastersAdd").click(function(){$("#newMasterModal").css("display","block");$("#modal1").css("display","block")});$(".addBtn").click(function(){$("#newMasterModal").css("display","none");$("#modal1").css("display","none");return false});$(".group-masters").click(function(){$("#newMasterModal").css("display","block");$("#modal-add-group").css("display","block")});$("#close").click(function(){$("#newMasterModal").css("display","none");$("#modal1").css("display","none");$("#modal-add-group").css("display","none")});$(".add-group").click(function(){$("#newMasterModal").css("display","none");$("#modal-add-group").css("display","none")});$(document).ready(function(){$(".go-to-profile").click(function(){$(".master-worktime").fadeIn("slow").css("display","inline-block");$(".salon-worktime").css("display","none");return false})});$(".allMastersList a").on("click",function(){if($(this).hasClass("go-to-profile")){$("#masterProfile").fadeIn("slow").css("display","none");$(this).removeClass("go-to-profile")}else{$("#masterProfile").fadeIn("slow").css("display","inline-block");$(this).removeClass("go-to-profile");$(this).addClass("go-to-profile")}});$(document).ready(function(){$(".salon-time").click(function(){$(".salon-worktime").fadeIn("slow").css("display","inline-block");$(".master-worktime").css("display","none");return false})});$(".addClient").click(function(){$("#newMasterModal").css("display","block");$("#modalClient").css("display","block")});$(".addClient1").click(function(){$("#newMasterModal").css("display","block");$("#modalClient").css("display","block")});$(".addClientsBtn").click(function(){$("#newMasterModal").css("display","none");$("#modalClient").css("display","none");return false});$("#close").click(function(){$("#newMasterModal").css("display","none");$("#modalClient").css("display","none")});$("#listKozlov").click(function(){$("#clientKozlov").fadeIn("slow").css("display","inline-block");$(".clientVisitTable").fadeIn("slow").css("display","inline-block");$("#tableKozlov").fadeIn("slow").css("display","inline-block");$("#clientsList").css("display","none")});$("#listMedvedeva").click(function(){$("#clientMedvedeva").fadeIn("slow").css("display","inline-block");$(".clientVisitTable").fadeIn("slow").css("display","inline-block");$(".noVisited").fadeIn("slow").css("display","inline-block");$("#clientsList").css("display","none")});$("#toClientList").click(function(){$("#clientKozlov").css("display","none");$(".clientVisitTable").css("display","none");$("#tableKozlov").css("display","none");$("#clientsList").css("display","inline-block")});$("#toClientList2").click(function(){$("#clientMedvedeva").css("display","none");$(".noVisited").css("display","none");$(".clientVisitTable").css("display","none");$("#clientsList").css("display","inline-block")});$(document).ready(function(){$(".phoneNumber").mask("(000) 000 00 00");$(".dateOfFirth").mask("00.00.0000г.")});$(function(){$("#datepicker").datepicker({changeMonth:true,changeYear:true})});$(".placeholder").on("click",function(){$(this).slideUp("slow");$(this).parent().find(".service-toggle-field").slideDown("slow")});$(".btn-done").on("click",function(){$(this).parent().parent().slideUp("slow");$(this).parent().parent().parent().find(".placeholder").slideDown("slow")});$("thead").on("click",function(){$(this).parent().find("tbody").toggle();$(this).toggleClass("thead-active")});$(".go-to-day1").on("click",function(){$(this).parent().hide();$(".transaction-year").hide();$(".transaction-day").show()});$(".back-to-day").on("click",function(){$(".transaction-day").hide();$(".transaction-year").show()});$(".question").on("click",function(){$(this).parent().find(".answer").toggle();$(this).toggleClass("question-active")});$(".create-treatment").on("click",function(){$("#modal-background").show();$("#new-treatment").show()});$("#close, .send-treatment").click(function(){$("#modal-background").hide();$("#new-treatment").hide()});$("#switch-off").attr("checked",true);$(".free-master-output, .free-master-day").hide();$("#switch-on").click(function(){$("#switch-off").attr("checked",false);$(".master-day, .master-output").hide();$(".free-master-output, .free-master-day").show()});$("#switch-off").click(function(){$("#switch-on").attr("checked",false);$(".master-day, .master-output").show();$(".free-master-output, .free-master-day").hide()});$(function(){$(".datepicker").datepicker({changeMonth:true,changeYear:true})});$(".add-requisite-field").on("click",function(){$(this).parent().find("input").clone(this).insertAfter($(this).parent()).css("margin-left","150px").val("").after('<button class="remove-requsite"></button>');$(".remove-requsite").on("click",function(){$(this).prev().remove();$(this).remove()})});$("#current-account, #correspondent-account").mask("00000000000000000");$("#BIK").mask("000000");$("#INN").mask("0000000000");$("#KPP").mask("000000000");$("#ORGN").mask("0000000000000");$("#index, #actual-index, #shipping-index").mask("000000");$(".requisite-tel").mask("(000) 000 00 00");$("#passport").mask("0000 000000");$("#subdivision-code").mask("000-000");$("#IP-INN").mask("000000000000");$(".for-IP").hide();$(".to-IP").on("click",function(){$(".for-IP").show().find("span").text("ИП");$(".for-OOO").hide()});$(".to-OOO").on("click",function(){$(".for-OOO").show().find("span").text($(this).text());$(".for-IP").hide()});$(".change-requisites").on("click",function(){$("#modal-background").show();$(".modal-change-requisites").show()});$("#close, .send-change-requisites").click(function(){$("#modal-background").hide();$(".modal-change-requisites").hide()});$(".requisites-done").hide();$(".table-switch-test").on("click",function(){$(".requisites-form").toggle();$(".requisites-done").toggle()});$(function(){$("#period-from, #period-to").datepicker({changeMonth:true,changeYear:true})});$(".clear-time-period").on("click",function(){$("#period-from, #period-to").val("");$(".dropdown span").text("Выберите период")});var dropdowns=$(".dropdown");dropdowns.find("dt").click(function(){dropdowns.find("dd>ul, .search-select, .search-service").hide();$(this).next().children().toggle()});dropdowns.find("dd a").click(function(){var a=$(this).parents(".dropdown").find("dt a span");$(this).parents(".dropdown").find("dd a").each(function(){$(this).removeClass("selected")});a.html($(this).html());if($(this).hasClass("default")){a.removeClass("selected")}else{a.addClass("selected");$(this).addClass("selected")}$(this).parents("ul").hide();$(".search-select").hide();$(".search-service").hide()});$("dt a span").on("click",function(){$(this).toggleClass("default");if($("dt a span").hasClass("default")){$(".dropdown dd, dd>ul, .search-select, .search-service").show()}else{$(".dropdown dd, dd>ul, .search-select, .search-service").hide()}});$(document).bind("click",function(a){if(!$(a.target).parents().hasClass("dropdown")){$(".dropdown dd ul, .search-select , .search-service").hide()}});$("#stepTimeAt").timepicker({step:15});$("#stepTimeTo").timepicker({step:15});$("#day-start-at").timepicker({step:15});$("#day-end-at").timepicker({step:15});$(".master-day-start-at").timepicker({step:15});$(".master-day-end-at").timepicker({step:15});$(".break, .output").timepicker({step:15});$("#service-hair").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-hair dropdown")});$("#service-face").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-face dropdown")});$("#service-body").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-body dropdown")});$("#service-nails").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-nails dropdown")});$("#service-sun").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-sun dropdown")});$("#service-wax").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-wax dropdown")});$("#service-massage").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-massage dropdown")});$("#service-spa").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-spa dropdown")});$("#service-etc").click(function(){$("#madal-chooseAservice").removeClass().addClass("modal-val-etc dropdown")});$(".modalClientLink").click(function(){$(this).addClass("modalLinkActive").removeClass("modalLinkNone");$(".modalClientInfo").css("display","inline-block");$(".modalServiceLink").removeClass("modalLinkActive").addClass("modalLinkNone");$(".modalServiceInfo").css("display","none")});$(".modalServiceLink").click(function(){$(this).addClass("modalLinkActive").removeClass("modalLinkNone");$(".modalServiceInfo").css("display","inline-block");$(".modalClientLink").removeClass("modalLinkActive").addClass("modalLinkNone");$(".modalClientInfo").css("display","none")});$("input.time").on("click",function(){if($(this).hasClass("active")){$(".ui-timepicker-wrapper").hide();$("input.time").removeClass("active")}else{$(this).addClass("active")}});$("#datepicker, .datepicker, #period-from, #period-to").on("click",function(){$(this).toggleClass("active");if($("#datepicker, .datepicker, #period-from, #period-to").hasClass("active")){$("#ui-datepicker-div").show()}else{$("#ui-datepicker-div").hide()}});jQuery(function(b){function a(c){return c?"addClass":"removeClass"}b(document).on("input",".clearable",function(){b(this)[a(this.value)]("x")}).on("mousemove",".x",function(c){b(this)[a(this.offsetWidth-30<c.clientX-this.getBoundingClientRect().left)]("onX")}).on("click",".onX",function(){b(this).removeClass("x onX").val("").change()})});$(".master").click(function(){$(this).closest(".service-notoggle-field").append('<span class="drag">'+$(this).text()+' <a class="del-master"></a></span>');$(".del-master").on("click",function(){$(this).parent().remove()});$(".drag").draggable({helper:"clone",cursor:"move"});$(".drop").droppable({accept:".drag",drop:function(a,b){$(this).insertAtCaret(b.draggable.text())}})});$(".master-to-group dd ul li a").click(function(){var a=$(".empty-field");$('.empty-field:contains("Пока нет выбранных участников")').each(function(){$(this).html($(this).html().split("Пока нет выбранных участников").join(""))});a.css("padding-left","0").append('<span class="drag">'+$(this).text()+'<a class="del-master"></a></span>');$(".del-master").on("click",function(){$(this).parent().remove();if($(".empty-field span").length<=0){a.css("padding-left","20px").append(document.createTextNode("Пока нет выбранных участников"))}})});$(".drag").draggable({helper:"clone",cursor:"move"});$(".drop").droppable({accept:".drag",drop:function(a,b){$(this).insertAtCaret(b.draggable.text())}});$(".del-price-info").on("click",function(){$(this).parent().remove()});$(".static-time").mask("000");$(".static-price").mask("00000");var inputPrice=$(".input-price");var inputTime=$(".input-time");var inputMaster=$(".input-master");inputPrice.mask("00000");inputTime.mask("000");$(".btn-add-price").on("click",function(){if(!inputPrice.val()||!inputTime.val()||!inputMaster.val()){$(this).noop("click")}else{$(this).closest(".service-notoggle-field").append('<p class="price-info"><span class="span-price">'+inputPrice.val()+'</span> Р <span class="span-time">'+inputTime.val()+'</span> мин. <span class="span-master">'+inputMaster.val()+'</span><a class="del-price-info"></a></p>')}$(".input-price, .input-time, .input-master").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected");$(".del-price-info").on("click",function(){$(this).parent().remove()});$(".price-info").dblclick(function(){var a=$(this).find(".span-price").text();var b=$(this).find(".span-time").text();var c=$(this).find(".span-master").text();$(this).remove().scroll(".add-service-price");$(".add-service-price").show();inputPrice.val(a);inputTime.val(b);inputMaster.val(c)})});$.fn.insertAtCaret=function(a){return this.each(function(){var d;if(document.selection){this.focus();d=document.selection.createRange();d.text=a;this.focus()}else{if(this.selectionStart||this.selectionStart=="0"){var c=this.selectionStart;var b=this.selectionEnd;var e=this.scrollTop;this.value=this.value.substring(0,c)+a+this.value.substring(b,this.value.length);this.focus();this.selectionStart=c+a.length;this.selectionEnd=c+a.length;this.scrollTop=e}else{this.value+=a;this.focus()}}})};$(".btn-price").on("click",function(){$(".add-service-price").slideToggle("slow");$(this).toggleClass("btn-price-close")});var block3ver2=$(".block3ver2");var mastersList=$(".mastersList");$(".remove-break").on("click",function(){$(this).parent().remove();block3ver2.animate({height:"-=36"});mastersList.animate({height:"-=36"})});$(".remove-output").on("click",function(){$(this).parent().remove();block3ver2.animate({height:"-=36"});mastersList.animate({height:"-=36"})});$(".add-break").on("click",function(){$(".master-select-break:first").show().clone(this).insertAfter($(this).parent());$("body .master-select-break:first").hide();if(block3ver2.height()>$(".salon-worktime").height()){block3ver2.animate({height:"+=36"});mastersList.animate({height:"+=36"})}});$(".add-output").on("click",function(){$(".output-select:first").show().clone(this).insertBefore(this);$("body .output-select:first").hide();block3ver2.animate({height:"+=36"});mastersList.animate({height:"+=36"})});$(function(){$("#search-client").smartAutoComplete({source:"names.json",forceSelect:true,maxResults:5,delay:200})});mastersList.mCustomScrollbar({theme:"minimal-dark",scrollInertia:100});$("#select-master ul").mCustomScrollbar({theme:"minimal-dark",scrollInertia:100});$(".middle").mCustomScrollbar({theme:"minimal-dark",scrollInertia:100});$(window).ready(function(){$(".mastersSettings").height($(window).height()-62);$(".mastersList").height($(window).height()-62)});$(window).resize(function(){$(".mastersSettings").height($(window).height()-62);$(".mastersList").height($(window).height()-62)});var $cell=$(".image__cell");$cell.find(".image--basic").click(function(){var a=$(this).closest(".image__cell");if(a.hasClass("is-collapsed")){$cell.not(a).removeClass("is-expanded").addClass("is-collapsed");a.removeClass("is-collapsed").addClass("is-expanded")}else{a.removeClass("is-expanded").addClass("is-collapsed")}});$cell.find(".expand__close").click(function(){var a=$(this).closest(".image__cell");a.removeClass("is-expanded").addClass("is-collapsed")});var options={valueNames:["master","sub-services"]};var userList=new List("select-master",options);var userListServ=new List("search-service",options);
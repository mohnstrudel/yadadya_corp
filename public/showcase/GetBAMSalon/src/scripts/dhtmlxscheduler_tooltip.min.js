Scheduler.plugin(function(a){!function(){var b=a.dhtmlXTooltip=a.tooltip={};b.config={className:"dhtmlXTooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},b.tooltip=document.createElement("div"),b.tooltip.className=b.config.className,b.show=function(t,g){if(!a.config.touch||a.config.touch_tooltip){var k=b,e=this.tooltip,v=e.style;k.tooltip.className=k.config.className;var p=this.position(t),u=t.target||t.srcElement;if(!this.isTooltip(u)){var f=p.x+(k.config.delta_x||0),j=p.y-(k.config.delta_y||0);v.visibility="hidden",v.removeAttribute?(v.removeAttribute("right"),v.removeAttribute("bottom")):(v.removeProperty("right"),v.removeProperty("bottom")),v.left="0",v.top="0",this.tooltip.innerHTML=g,document.body.appendChild(this.tooltip);var q=this.tooltip.offsetWidth,m=this.tooltip.offsetHeight;document.body.offsetWidth-f-q<0?(v.removeAttribute?v.removeAttribute("left"):v.removeProperty("left"),v.right=document.body.offsetWidth-f+2*(k.config.delta_x||0)+"px"):v.left=0>f?p.x+Math.abs(k.config.delta_x||0)+"px":f+"px",document.body.offsetHeight-j-m<0?(v.removeAttribute?v.removeAttribute("top"):v.removeProperty("top"),v.bottom=document.body.offsetHeight-j-2*(k.config.delta_y||0)+"px"):v.top=0>j?p.y+Math.abs(k.config.delta_y||0)+"px":j+"px",v.visibility="visible",this.tooltip.onmouseleave=function(d){d=d||window.event;for(var c=a.dhtmlXTooltip,h=d.relatedTarget;h!=a._obj&&h;){h=h.parentNode}h!=a._obj&&c.delay(c.hide,c,[],c.config.timeout_to_hide)},a.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},b._clearTimeout=function(){this.tooltip._timeout_id&&window.clearTimeout(this.tooltip._timeout_id)},b.hide=function(){if(this.tooltip.parentNode){var c=this.tooltip.event_id;this.tooltip.event_id=null,this.tooltip.onmouseleave=null,this.tooltip.parentNode.removeChild(this.tooltip),a.callEvent("onAfterTooltip",[c])}this._clearTimeout()},b.delay=function(f,d,c,g){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var e=f.apply(d,c);return f=d=c=null,e},g||this.config.timeout_to_display)},b.isTooltip=function(d){var c=!1;for("dhtmlXTooltip"==d.className.split(" ")[0];d&&!c;){c=d.className==this.tooltip.className,d=d.parentNode}return c},b.position=function(d){if(d=d||window.event,d.pageX||d.pageY){return{x:d.pageX,y:d.pageY}}var c=window._isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:d.clientX+c.scrollLeft-c.clientLeft,y:d.clientY+c.scrollTop-c.clientTop}},a.attachEvent("onMouseMove",function(t,g){var k=window.event||g,e=k.target||k.srcElement,v=b,p=v.isTooltip(e),u=v.isTooltipTarget&&v.isTooltipTarget(e);if(t||p||u){var f;if(t||v.tooltip.event_id){var j=a.getEvent(t)||a.getEvent(v.tooltip.event_id);if(!j){return}if(v.tooltip.event_id=j.id,f=a.templates.tooltip_text(j.start_date,j.end_date,j),!f){return v.hide()}}u&&(f="");var q;if(_isIE){q={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0};for(var m in q){q[m]=k[m]}}if(!a.callEvent("onBeforeTooltip",[t])||!f){return}v.delay(v.show,v,[q||k,f])}else{v.delay(v.hide,v,[],v.config.timeout_to_hide)}}),a.attachEvent("onBeforeDrag",function(){return b.hide(),!0}),a.attachEvent("onEventDeleted",function(){return b.hide(),!0}),a.templates.tooltip_date_format=a.date.date_to_str("%Y-%m-%d %H:%i"),a.templates.tooltip_text=function(d,c,e){return"<img src='src/images/masterFoto.png'><br><span>Женская стрижка</span><h3>10:20</h3><h3>10:55</h3><span>Клиент:<br>Наталья Самойлова</span>"}}()});
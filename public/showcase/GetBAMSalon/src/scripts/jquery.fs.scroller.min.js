(function(f,h){var j="scroller",n=null,r={base:"scroller",content:"scroller-content",bar:"scroller-bar",track:"scroller-track",handle:"scroller-handle",isHorizontal:"scroller-horizontal",isSetup:"scroller-setup",isActive:"scroller-active"},b={start:"touchstart."+j+" mousedown."+j,move:"touchmove."+j+" mousemove."+j,end:"touchend."+j+" mouseup."+j};var d={customClass:"",duration:0,handleSize:0,horizontal:false,trackMargin:0};var o={defaults:function(t){d=f.extend(d,t||{});return(typeof this==="object")?f(this):true},destroy:function(){return f(this).each(function(t,u){var v=f(u).data(j);if(v){v.$scroller.removeClass([v.customClass,r.base,r.isActive].join(" "));v.$bar.remove();v.$content.contents().unwrap();v.$content.off(l(j));v.$scroller.off(l(j)).removeData(j)}})},scroll:function(u,t){return f(this).each(function(w){var y=f(this).data(j),z=t||d.duration;if(typeof u!=="number"){var v=f(u);if(v.length>0){var A=v.position();if(y.horizontal){u=A.left+y.$content.scrollLeft()}else{u=A.top+y.$content.scrollTop()}}else{u=y.$content.scrollTop()}}var x=y.horizontal?{scrollLeft:u}:{scrollTop:u};y.$content.stop().animate(x,z)})},reset:function(){return f(this).each(function(x){var w=f(this).data(j);if(w){w.$scroller.addClass(r.isSetup);var B={},z={},y={},v=0,A=true;if(w.horizontal){w.barHeight=w.$content[0].offsetHeight-w.$content[0].clientHeight;w.frameWidth=w.$content.outerWidth();w.trackWidth=w.frameWidth-(w.trackMargin*2);w.scrollWidth=w.$content[0].scrollWidth;w.ratio=w.trackWidth/w.scrollWidth;w.trackRatio=w.trackWidth/w.scrollWidth;w.handleWidth=(w.handleSize>0)?w.handleSize:w.trackWidth*w.trackRatio;w.scrollRatio=(w.scrollWidth-w.frameWidth)/(w.trackWidth-w.handleWidth);w.handleBounds={left:0,right:w.trackWidth-w.handleWidth};w.$content.css({paddingBottom:w.barHeight+w.paddingBottom});var u=w.$content.scrollLeft();v=u*w.ratio;A=(w.scrollWidth<=w.frameWidth);B={width:w.frameWidth};z={width:w.trackWidth,marginLeft:w.trackMargin,marginRight:w.trackMargin};y={width:w.handleWidth}}else{w.barWidth=w.$content[0].offsetWidth-w.$content[0].clientWidth;w.frameHeight=w.$content.outerHeight();w.trackHeight=w.frameHeight-(w.trackMargin*2);w.scrollHeight=w.$content[0].scrollHeight;w.ratio=w.trackHeight/w.scrollHeight;w.trackRatio=w.trackHeight/w.scrollHeight;w.handleHeight=(w.handleSize>0)?w.handleSize:w.trackHeight*w.trackRatio;w.scrollRatio=(w.scrollHeight-w.frameHeight)/(w.trackHeight-w.handleHeight);w.handleBounds={top:0,bottom:w.trackHeight-w.handleHeight};var t=w.$content.scrollTop();v=t*w.ratio;A=(w.scrollHeight<=w.frameHeight);B={height:w.frameHeight};z={height:w.trackHeight,marginBottom:w.trackMargin,marginTop:w.trackMargin};y={height:w.handleHeight}}if(A){w.$scroller.removeClass(r.isActive)}else{w.$scroller.addClass(r.isActive)}w.$bar.css(B);w.$track.css(z);w.$handle.css(y);s(w,v);w.$scroller.removeClass(r.isSetup)}})}};function p(v){v=f.extend({},d,v||{});if(n===null){n=f("body")}var w=f(this);for(var t=0,u=w.length;t<u;t++){m(w.eq(t),v)}return w}function m(w,u){if(!w.hasClass(r.base)){u=f.extend({},u,w.data(j+"-options"));var t="";t+='<div class="'+r.bar+'">';t+='<div class="'+r.track+'">';t+='<div class="'+r.handle+'">';t+="</div></div></div>";u.paddingRight=parseInt(w.css("padding-right"),10);u.paddingBottom=parseInt(w.css("padding-bottom"),10);w.addClass([r.base,u.customClass].join(" ")).wrapInner('<div class="'+r.content+'" />').prepend(t);if(u.horizontal){w.addClass(r.isHorizontal)}var v=f.extend({$scroller:w,$content:w.find(l(r.content)),$bar:w.find(l(r.bar)),$track:w.find(l(r.track)),$handle:w.find(l(r.handle))},u);v.trackMargin=parseInt(v.trackMargin,10);v.$content.on("scroll."+j,v,g);v.$scroller.on(b.start,l(r.track),v,c).on(b.start,l(r.handle),v,i).data(j,v);o.reset.apply(w);f(h).one("load",function(){o.reset.apply(w)})}}function g(x){x.preventDefault();x.stopPropagation();var v=x.data,z={};if(v.horizontal){var y=v.$content.scrollLeft();if(y<0){y=0}var u=y/v.scrollRatio;if(u>v.handleBounds.right){u=v.handleBounds.right}z={left:u}}else{var w=v.$content.scrollTop();if(w<0){w=0}var t=w/v.scrollRatio;if(t>v.handleBounds.bottom){t=v.handleBounds.bottom}z={top:t}}v.$handle.css(z)}function c(w){w.preventDefault();w.stopPropagation();var v=w.data,z=w.originalEvent,x=v.$track.offset(),y=(typeof z.targetTouches!=="undefined")?z.targetTouches[0]:null,u=(y)?y.pageX:w.clientX,t=(y)?y.pageY:w.clientY;if(v.horizontal){v.mouseStart=u;v.handleLeft=u-x.left-(v.handleWidth/2);s(v,v.handleLeft)}else{v.mouseStart=t;v.handleTop=t-x.top-(v.handleHeight/2);s(v,v.handleTop)}q(v)}function i(w){w.preventDefault();w.stopPropagation();var v=w.data,y=w.originalEvent,x=(typeof y.targetTouches!=="undefined")?y.targetTouches[0]:null,u=(x)?x.pageX:w.clientX,t=(x)?x.pageY:w.clientY;if(v.horizontal){v.mouseStart=u;v.handleLeft=parseInt(v.$handle.css("left"),10)}else{v.mouseStart=t;v.handleTop=parseInt(v.$handle.css("top"),10)}q(v)}function q(t){t.$content.off(l(j));n.on(b.move,t,k).on(b.end,t,e)}function k(w){w.preventDefault();w.stopPropagation();var v=w.data,A=w.originalEvent,z=0,y=0,x=(typeof A.targetTouches!=="undefined")?A.targetTouches[0]:null,u=(x)?x.pageX:w.clientX,t=(x)?x.pageY:w.clientY;if(v.horizontal){y=v.mouseStart-u;z=v.handleLeft-y}else{y=v.mouseStart-t;z=v.handleTop-y}s(v,z)}function e(u){u.preventDefault();u.stopPropagation();var t=u.data;t.$content.on("scroll.scroller",t,g);n.off(".scroller")}function a(u){u.preventDefault();u.stopPropagation();var t=u.data;t.$content.on("scroll.scroller",t,g);n.off(".scroller")}function s(t,x){var w={};if(t.horizontal){if(x<t.handleBounds.left){x=t.handleBounds.left}if(x>t.handleBounds.right){x=t.handleBounds.right}var v=Math.round(x*t.scrollRatio);w={left:x};t.$content.scrollLeft(v)}else{if(x<t.handleBounds.top){x=t.handleBounds.top}if(x>t.handleBounds.bottom){x=t.handleBounds.bottom}var u=Math.round(x*t.scrollRatio);w={top:x};t.$content.scrollTop(u)}t.$handle.css(w)}function l(t){return"."+t}f.fn[j]=function(t){if(o[t]){return o[t].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof t==="object"||!t){return p.apply(this,arguments)}}return this};f[j]=function(t){if(t==="defaults"){o.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}})(jQuery);